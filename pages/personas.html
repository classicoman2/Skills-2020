<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Personas</title>
</head>
<body>
    <h1>Estas son las personas que hay en la base de datos:</h1>
    <table>
        <thead>
            <th>DNI</th>
            <th>Nombre</th>
            <th>Primer apellido</th>
            <th>Segundo apellido</th>
            <th>Fecha de nacimiento</th>
            <th>Genero</th>
            <th>Vivo</th>
            <th>Descripci√≥n</th>
        </thead>
        <tbody></tbody>
    </table>

    <br/>

    <a href="index.html">Volver al formulario</a>

    <script>
        let cuerpoTabla = document.querySelector("tbody");

        function rellenarTabla(json) {
            for (let persona of json.personas) {
                let fila = document.createElement("tr");
                fila.innerHTML = "<td>" + persona.dni + "</td><td>"
                + persona.nombre + "</td><td>"
                + persona.apellido_1 + "</td><td>"
                + persona.apellido_2 + "</td><td>"
                + persona.fecha_de_nac + "</td><td>"
                + persona.genero + "</td><td>"
                + persona.vivo + "</td><td>"
                + persona.descripcion + "</td>";
                cuerpoTabla.appendChild(fila);
            }
        }

        fetch("http://192.168.1.20/crud/personas.php")
            .then( (respuesta) => {
                return respuesta.json();
            })
            .then( (json) => {
                rellenarTabla(json);
            });

        document.createElement("tr");
    </script>
</body>
</html>